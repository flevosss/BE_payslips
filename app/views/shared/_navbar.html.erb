<nav class="bg-white shadow-sm">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <%= link_to root_path, class: "flex items-center" do %>
          <%= image_tag "railslips.svg", alt: "Logo", class: "h-10 w-auto" %>
          <h1 class="ml-4 text-2xl font-bold text-green-900">RailSlips</h1>
        <% end %>
      </div>

      <% if user_signed_in? && current_user.can_view_employees? %>
        <div class="flex items-center group relative">
          <span class="text-green-950 font-medium cursor-default">
            <%= current_user.admin? ? "Admin" : "HR" %>
          </span>
          <div class="flex items-center overflow-hidden max-w-0 opacity-0 transition-all duration-300 ease-in-out group-hover:max-w-xs group-hover:opacity-100">
            <span class="text-green-950 font-medium mx-2">|</span>
            <%= link_to "Employees", "/employees", class: "text-green-950 hover:text-green-900 font-medium whitespace-nowrap" %>
            <span class="text-green-950 font-medium mx-2">|</span>
            <%= link_to "Payslips", "/payslips", class: "text-green-950 hover:text-green-900 font-medium whitespace-nowrap" %>
            <% if current_user.admin? %>
              <span class="text-green-950 font-medium mx-2">|</span>
              <%= link_to "Leave Requests", admin_leaves_path, class: "text-green-950 hover:text-green-900 font-medium whitespace-nowrap" %>
            <% end %>
          </div>
        </div>
      <% end %>

       <% if user_signed_in? %>
         <div class="flex items-center gap-2">
            <%= link_to "MyPayslips", "/my_payslips", class: "text-green-950 hover:text-green-900 font-medium" %>
        </div>
       <% end %>

        <% if user_signed_in? %>
         <div class="flex items-center gap-2">
            <%= link_to "Request", "/request", class: "text-green-950 hover:text-green-900 font-medium" %>
        </div>
       <% end %>

        <% if user_signed_in? %>
         <div class="flex items-center gap-2">
            <%= link_to "MyProfile", "/my_profile", class: "text-green-950 hover:text-green-900 font-medium" %>
        </div>
       <% end %>
      
      <% if user_signed_in? %>
        <div class="flex items-center gap-4">
          <span class="text-gray-700">Hello, <%= current_user.employee&.first_name || current_user.email %></span>
          <%= button_to "Log out", destroy_user_session_path, method: :delete, class: "bg-green-950 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-900" %>
        </div>
      <% else %>
        <div class="flex items-center gap-4">
          <%= link_to "Log in", new_user_session_path, class: "text-green-950 hover:text-green-900 font-medium" %>
          <%= link_to "Sign up", new_user_registration_path, class: "bg-green-950 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-900" %>
        </div>
      <% end %>
    </div>
  </div>
</nav>
