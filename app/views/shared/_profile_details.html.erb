<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

  <!-- Employee Header -->
  <div class="bg-white shadow rounded-lg overflow-hidden mb-6">
    <div class="bg-green-900 px-6 py-8">
      <div class="flex items-center">
        <div class="flex-shrink-0 h-20 w-20 rounded-full bg-white flex items-center justify-center">
          <%= heroicon "user", variant: :outline, options: { class: "w-12 h-12 text-green-900" } %>
        </div>
        <div class="ml-6 text-white">
          <h1 class="text-3xl font-bold">
            <% if user.employee&.first_name.present? && user.employee&.last_name.present? %>
              <%= user.employee.first_name %> <%= user.employee.last_name %>
            <% end %>
          </h1>
          <p class="text-green-100 mt-1"><%= user.email %></p>
          <div class="mt-2">
            <%= render 'shared/status_badge', 
                type: user.admin? ? 'info' : 'default',
                text: user.role&.capitalize || 'Not Set' %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Employee Details Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Personal Information Card -->
    <%= render 'shared/info_card', title: 'Personal Information', icon: 'user-circle' do %>
      <dl class="space-y-4">
        <div>
          <dt class="text-sm font-medium text-gray-500">First Name</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.first_name || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">Last Name</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.last_name || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">Date of Birth</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.date_of_birth&.strftime('%B %d, %Y') || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">BSN</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.bsn || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
      </dl>
    <% end %>

    <!-- Contact Information Card -->
    <%= render 'shared/info_card', title: 'Contact Information', icon: 'map-pin' do %>
      <dl class="space-y-4">
        <div>
          <dt class="text-sm font-medium text-gray-500">Email</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.email %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">Address</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.address || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">Postal Code</dt>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.postal_code || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
      </dl>
    <% end %>

    <!-- Work Information Card -->
    <%= render 'shared/info_card', title: 'Work Information', icon: 'building-office-2' do %>
      <dl class="space-y-4">
        <div>
          <div class="flex items-center justify-between">
            <dt class="text-sm font-medium text-gray-500">Department</dt>
            <% if show_edit && current_user.admin? %>
              <%= link_to edit_employee_path(user), class: "inline-flex items-center text-xs text-green-900 hover:text-green-700" do %>
                <%= heroicon "pencil", variant: :outline, options: { class: "w-4 h-4 mr-1" } %>
                Edit
              <% end %>
            <% end %>
          </div>
          <dd class="mt-1 text-sm text-gray-900">
            <%= user.employee&.department || content_tag(:span, 'Not provided', class: 'text-gray-400 italic') %>
          </dd>
        </div>
        
        <div>
          <dt class="text-sm font-medium text-gray-500">Role</dt>
          <dd class="mt-1">
            <%= render 'shared/status_badge', 
                type: user.admin? ? 'info' : 'default',
                text: user.role&.capitalize || 'Not Set' %>
          </dd>
        </div>
      </dl>
    <% end %>

    <!-- Bank Account Information Card -->
    <%= render 'shared/info_card', title: 'Bank Account Information', icon: 'credit-card' do %>
      <% if user.employee&.account_info.present? %>
        <dl class="space-y-4">
          <div>
            <dt class="text-sm font-medium text-gray-500">Account Name</dt>
            <dd class="mt-1 text-sm text-gray-900">
              <%= user.employee.account_info.account_name %>
            </dd>
          </div>
          
          <div>
            <dt class="text-sm font-medium text-gray-500">Account Number</dt>
            <dd class="mt-1 text-sm text-gray-900 font-mono">
              <%= user.employee.account_info.account_number %>
            </dd>
          </div>
        </dl>
      <% else %>
        <div class="text-center py-6">
          <%= heroicon "exclamation-circle", variant: :outline, options: { class: "w-12 h-12 text-gray-400 mx-auto mb-2" } %>
          <p class="text-sm text-gray-500 italic">No bank account information available</p>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

