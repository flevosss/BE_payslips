<% 
  # Parameters:
  # requests: Array of vacation requests to display
  # empty_message: Message to show when no requests (default: "No requests yet.")
  # empty_icon: Icon to show when no requests (default: "inbox")
  # container_class: Additional CSS classes for the container
  
  empty_message = local_assigns.fetch(:empty_message, "No requests yet.")
  empty_icon = local_assigns.fetch(:empty_icon, "inbox")
  container_class = local_assigns.fetch(:container_class, "")
%>

<div class="bg-white rounded-2xl shadow-sm border border-gray-200 w-full flex flex-col <%= container_class %>">
  <div class="border-b border-gray-100 px-6 py-4 flex-shrink-0">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-xl font-bold text-gray-900">Your Requests</h2>
        <p class="text-sm text-gray-500 mt-0.5">
          <% if requests.respond_to?(:total_count) %>
            <%= requests.total_count %> total
          <% else %>
            <%= requests.count %> <%= requests.count == 1 ? 'request' : 'requests' %>
          <% end %>
        </p>
      </div>
      <% if requests.any? %>
        <div class="text-xs text-gray-400">Most recent first</div>
      <% end %>
    </div>
  </div>

  <% if requests.any? %>
    <div class="divide-y divide-gray-100 flex-1 overflow-y-auto min-h-0">
      <% requests.each do |request| %>
        <%= render 'shared/request_row', request: request %>
      <% end %>
    </div>
  <% else %>
    <div class="text-center py-16 px-6 flex-1 overflow-y-auto flex flex-col items-center justify-center">
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4">
        <%= heroicon empty_icon, variant: :outline, options: { class: "w-8 h-8 text-gray-400" } %>
      </div>
      <h3 class="text-base font-semibold text-gray-900 mb-1">No requests yet</h3>
      <p class="text-sm text-gray-500"><%= empty_message %></p>
    </div>
  <% end %>
</div>
